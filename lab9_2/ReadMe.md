Особенности реализации:
1 Используются IPC-механизмы: `shmget`, `shmat`, `semget`, `semop`.
2 Для совместимости с macOS определение `union semun` обёрнуто в `#ifndef __APPLE__`.
3 Ключи для разделяемой памяти и семафора фиксированы (0x1234, 0x5678).